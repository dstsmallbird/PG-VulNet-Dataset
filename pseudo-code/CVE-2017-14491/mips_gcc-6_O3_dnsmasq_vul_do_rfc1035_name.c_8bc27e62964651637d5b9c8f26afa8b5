_BYTE *__fastcall do_rfc1035_name(_BYTE *a1, _BYTE *a2)
{
  int v2; // $a2
  _BYTE *result; // $v0
  _BYTE *v4; // $v1

  if ( !a2 )
    return a1;
  v2 = (char)*a2;
  if ( !*a2 )
    return a1;
  result = a1 + 1;
  if ( v2 == 46 )
    goto LABEL_11;
LABEL_4:
  v4 = a2;
  do
  {
    *result++ = v2;
    v2 = (char)*++v4;
  }
  while ( *v4 && v2 != 46 );
  *a1 = (_BYTE)v4 - (_BYTE)a2;
  a2 = v4 + 1;
  if ( *v4 )
  {
    do
    {
      if ( !a2 )
        break;
      v2 = (char)v4[1];
      a1 = result;
      if ( !v4[1] )
        break;
      ++result;
      if ( v2 != 46 )
        goto LABEL_4;
LABEL_11:
      v4 = a2;
      *a1 = 0;
    }
    while ( *a2++ );
  }
  return result;
}
