_BYTE *__fastcall do_rfc1035_name(_BYTE *result, _BYTE *a2)
{
  _BYTE *v2; // x4
  int v3; // w2
  char v4; // w3
  int v5; // t1
  bool v6; // zf
  _BYTE *i; // x5

  v2 = result;
  if ( a2 )
  {
    v3 = (unsigned __int8)*a2;
    if ( *a2 )
    {
      ++result;
      if ( v3 == 46 )
        goto LABEL_14;
LABEL_4:
      v4 = 0;
      do
      {
        *result++ = v3;
        ++v4;
        v5 = (unsigned __int8)*++a2;
        v3 = v5;
        if ( v5 == 46 )
          v6 = 1;
        else
          v6 = v3 == 0;
      }
      while ( !v6 );
      *v2 = v4;
      for ( i = a2; *a2; i = a2 )
      {
        if ( !++a2 )
          break;
        v3 = (unsigned __int8)i[1];
        if ( !i[1] )
          break;
        v2 = result++;
        if ( v3 != 46 )
          goto LABEL_4;
LABEL_14:
        *v2 = 0;
      }
    }
  }
  return result;
}
