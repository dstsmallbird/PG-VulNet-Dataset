_BYTE *__fastcall do_rfc1035_name(_BYTE *result, _BYTE *a2)
{
  char v2; // lr
  _BYTE *v3; // r3
  _BYTE *i; // r2
  int v5; // r12
  char v6; // r4
  bool v7; // zf

  for ( ; a2 && *a2; result = i )
  {
    v2 = (char)a2;
    v3 = a2;
    for ( i = result + 1; ; ++i )
    {
      v5 = (unsigned __int8)*v3;
      v6 = (_BYTE)v3 - v2;
      v7 = v5 == 0;
      if ( *v3 )
        v7 = v5 == 46;
      a2 = v3++;
      if ( v7 )
        break;
      *i = v5;
    }
    *result = v6;
    if ( *a2 )
      a2 = v3;
  }
  return result;
}
