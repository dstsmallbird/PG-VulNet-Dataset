int __cdecl do_rfc1035_name(__int64 a1)
{
  _BYTE *v2; // esi
  int i; // ecx
  char v4; // bl

  while ( HIDWORD(a1) && *(_BYTE *)HIDWORD(a1) )
  {
    v2 = (_BYTE *)(a1 + 1);
    for ( i = 0; ; ++i )
    {
      v4 = *(_BYTE *)(HIDWORD(a1) + i);
      if ( !v4 || v4 == 46 )
        break;
      *v2++ = v4;
    }
    *(_BYTE *)a1 = i;
    LODWORD(a1) = v2;
    HIDWORD(a1) = HIDWORD(a1) + i - ((*(_BYTE *)(HIDWORD(a1) + i) == 0) - 1);
  }
  return a1;
}
