_BYTE *__cdecl do_rfc1035_name(_BYTE *a1, char *a2)
{
  char *v2; // edi
  char v4; // dl
  _BYTE *result; // eax
  char v6; // bl
  char *v7; // esi

  v2 = a2;
  if ( a2 )
  {
    while ( 1 )
    {
      v4 = *v2;
      if ( !*v2 )
        break;
      result = a1 + 1;
      v6 = 0;
      v7 = v2 + 1;
      while ( v4 && v4 != 46 )
      {
        *result = v4;
        v4 = *v7++;
        ++v6;
        ++result;
      }
      *a1 = v6;
      v2 = v7 - 1;
      if ( *(v7 - 1) )
        v2 = v7;
      a1 = result;
      if ( !v2 )
        return result;
    }
  }
  return a1;
}
